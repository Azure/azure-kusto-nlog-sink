This file has instructions to perform updates to libraries and dependencies.

To update library versions run the following commands. There are 3 projects under src, NLog.Azure.Kusto, NLog.Azure.Kusto.Tests and NLog.Azure.Kusto.Samples.

To build the core from the src directory

```sh
dotnet build NLog.Azure.Kusto/NLog.Azure.Kusto.csproj  && dotnet build NLog.Azure.Kusto.Samples/NLog.Azure.Kusto.Samples.csproj && dotnet build NLog.Azure.Kusto.Tests/NLog.Azure.Kusto.Tests.csproj
```

```sh
dotnet list src/NLog.Azure.Kusto/NLog.Azure.Kusto.csproj package --outdated
```

```sh
dotnet list src/NLog.Azure.Kusto.Samples/NLog.Azure.Kusto.Samples.csproj package --outdated
```

```sh
dotnet list src/NLog.Azure.Kusto.Tests/NLog.Azure.Kusto.Tests.csproj package --outdated
```

A list of libraries that have to be updated will be available. Update these libraries and then make these changes. Once the files are updated, run tests following instructions below


If we have to upgrade dotnet versions , change the TargetVersion in the *.csproj files in the section 
```<TargetFramework>net6.0</TargetFramework>```. If we want to change from 6.0 to 8.0, update this to ```<TargetFramework>net8.0</TargetFramework>```


To run tests , export the environment variables CONNECTION_STRING and databaseName DATABASE. Prompt the user for ClusterURL and Database.
Construct the CONNECTION_STRING environment variable as 

export CONNECTION_STRING="Data Source={ClusterURL};Database={Database};Fed=True" and export DATABASE={Database} on linux and on powershell the equivalent using $env:CONNECTION_STRING="Data Source={ClusterURL};Database={Database};Fed=True" and $env:DATABASE={Database} and then run the tests using

```sh
cd src;dotnet clean && dotnet test NLog.Azure.Kusto.Tests/NLog.Azure.Kusto.Tests.csproj --collect:"XPlat Code Coverage" --results-directory TestResults
```